title: 读书笔记之深入理解Java虚拟机：JVM高级特性与最佳实践（周志明著）（二）  
tags: [JVM,java]  
date: 2017-10-10

---

### 垃圾收集算法和垃圾收集器 ###  

#### 标记-清除算法 ####  

标记清除算法分为两个阶段：标记和清除  
不足之处：1.效率问题，标记和清除两个过程的效率不高  
2.空间问题，标记清除之后会产生大量不连续的内存碎片，空间碎片太多可能会导致以后程序运行过程中需要分配较大对象时，无法找到足够的连续内存而不得不提前触发另一次垃圾收集动作。  

#### 复制算法 ####  

复制算法是为了解决效率问题，但是这种算法的代价是将内存缩小为原来的一半。  
一般用这种算法来回收新生代  
复制算法原理：将可用内存按容量划分为大小相等的两块，每次只使用其中一块。当这块内存用完了，就将还存活着的对象复制到另一块上面，然后再把已使用过的内存空间一次清理掉。这样使得每次都是对整个半区进行内存回收，内存分配时不用考虑内存碎片等复杂情况。  

复制算法在对象存活率较高时就要进行较多的复制操作，效率将会变低。

#### 标记-整理算法 ####  

这种算法一般用来收集老年代  
先标记，然后将所有存活的对象都向一端移动，然后直接清理掉端边界以外的内存  

#### 分代收集算法 ####  

将堆分为新生代和老年代，根据年代特点选用适当的收集算法  

### 垃圾收集器 ###  

垃圾收集器是内存回收的具体实现。  

#### Serial收集器 ####  

单线程收集器，它在进行垃圾收集时，必须暂停其他所有的工作线程，直到它收集结束  
Serial收集器对于运行在Client模式下的虚拟机来说是一个很好的选择  

#### ParNew收集器 ####  

Serial收集器的多线程版本，Server模式下的虚拟机首选的新生代收集器  

#### Parallel Scavenge收集器 ####  

Parallel Scavenge收集器是一个新生代收集器，它也是使用复制算法的收集器，又是并发的多线程收集器。  
它的目的是达到一个可控制的吞吐量。
